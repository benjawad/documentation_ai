{
  "LLMFactory": {
    "module": "/app/core/llm_factory/factory.py",
    "inherits": [],
    "uses": [
      "ChatOpenAI",
      "LlamaOpenAI",
      "OpenAIEmbedding",
      "OpenAIEmbeddings"
    ],
    "methods": [
      "get_langchain_llm",
      "get_langchain_embeddings",
      "get_llama_index_llm",
      "get_llama_index_embeddings",
      "configure_llama_index_settings"
    ],
    "attributes": [],
    "description": "Factory for creating LLM instances"
  },
  "VectorStoreProvider": {
    "module": "/app/core/llm_factory/providers.py",
    "inherits": [],
    "uses": [
      "LangChainRedis",
      "PGVector",
      "PGVectorStore",
      "RedisVectorStore"
    ],
    "methods": [
      "get_postgres_vector_store",
      "get_redis_vector_store",
      "get_langchain_postgres_store",
      "get_langchain_redis_store"
    ],
    "attributes": [],
    "description": "Provider for vector store instances"
  },
  "Command": {
    "module": "/app/core/management/commands/setup_pgvector.py",
    "inherits": [
      "BaseCommand"
    ],
    "uses": [],
    "methods": [
      "handle"
    ],
    "attributes": [
      {
        "name": "help",
        "type": "Constant"
      }
    ],
    "description": null
  },
  "ArchitectureVisitor": {
    "module": "/app/core/services/architecture_service.py",
    "inherits": [
      "NodeVisitor"
    ],
    "uses": [],
    "methods": [
      "__init__",
      "visit_ClassDef",
      "visit_FunctionDef",
      "visit_AnnAssign",
      "visit_Assign"
    ],
    "attributes": [
      {
        "name": "class_stack",
        "type": "list"
      },
      {
        "name": "global_functions",
        "type": "list"
      },
      {
        "name": "structure",
        "type": "list"
      }
    ],
    "description": null
  },
  "FastTypeEnricher": {
    "module": "/app/core/services/architecture_service.py",
    "inherits": [],
    "uses": [
      "list[dict]"
    ],
    "methods": [
      "__init__",
      "enrich",
      "_apply_patches"
    ],
    "attributes": [
      {
        "name": "llm",
        "type": "Unknown"
      }
    ],
    "description": "takes the JSON from the Visitor, finds the \"Unknown\" types, and asks SambaNova to fix them."
  },
  "ChatbotService": {
    "module": "/app/core/services/chat_service.py",
    "inherits": [],
    "uses": [
      "ChatMessageHistory",
      "ChatSession",
      "Dict[str, Any]",
      "List[Dict[str, Any]]",
      "_create_chain",
      "as_retriever",
      "get_langchain_embeddings",
      "get_langchain_llm",
      "get_langchain_postgres_store",
      "get_or_create"
    ],
    "methods": [
      "__init__",
      "_create_chain",
      "format_docs",
      "_load_chat_history",
      "chat"
    ],
    "attributes": [
      {
        "name": "SYSTEM_PROMPT",
        "type": "Constant"
      },
      {
        "name": "chain",
        "type": "self._create_chain"
      },
      {
        "name": "chat_history",
        "type": "ChatMessageHistory"
      },
      {
        "name": "embeddings",
        "type": "LLMFactory.get_langchain_embeddings"
      },
      {
        "name": "llm",
        "type": "LLMFactory.get_langchain_llm"
      }
    ],
    "description": "Service for handling chatbot conversations with codebase context"
  },
  "FileSystemNode": {
    "module": "/app/core/services/files.py",
    "inherits": [],
    "uses": [
      "FileSystemNode",
      "Optional[int]",
      "directory"
    ],
    "methods": [],
    "attributes": [
      {
        "name": "children",
        "type": "Optional[List[FileSystemNode]]"
      },
      {
        "name": "name",
        "type": "str"
      },
      {
        "name": "path",
        "type": "str"
      },
      {
        "name": "size",
        "type": "Optional[int]"
      },
      {
        "name": "type",
        "type": "Literal[file, directory]"
      }
    ],
    "description": null
  },
  "FileSystemVisitor": {
    "module": "/app/core/services/files.py",
    "inherits": [],
    "uses": [
      "FileSystemNode"
    ],
    "methods": [
      "visit",
      "_visit_node"
    ],
    "attributes": [
      {
        "name": "IGNORED_DIRS",
        "type": "Unknown"
      },
      {
        "name": "IGNORED_FILES",
        "type": "Unknown"
      },
      {
        "name": "VIP_EXTENSIONS",
        "type": "Unknown"
      },
      {
        "name": "VIP_FILENAMES",
        "type": "Unknown"
      }
    ],
    "description": "A deterministic visitor for the file system.\nIMPROVED: Implements a \"VIP Pass\" to capture environment context (The Devil's Advocate Fix)."
  },
  "CodebaseIndexer": {
    "module": "/app/core/services/indexing_service.py",
    "inherits": [],
    "uses": [
      "Dict[str, Any]",
      "List[Dict[str, Any]]",
      "List[str]",
      "LlamaDocument",
      "VectorStoreIndex",
      "from_defaults",
      "get_llama_index_embeddings",
      "get_postgres_vector_store"
    ],
    "methods": [
      "__init__",
      "index_codebase",
      "_extract_files_from_tree",
      "traverse",
      "_process_file"
    ],
    "attributes": [
      {
        "name": "embed_model",
        "type": "LLMFactory.get_llama_index_embeddings"
      },
      {
        "name": "node_parser",
        "type": "SimpleNodeParser.from_defaults"
      },
      {
        "name": "storage_context",
        "type": "StorageContext.from_defaults"
      },
      {
        "name": "use_postgres",
        "type": "bool"
      },
      {
        "name": "vector_store",
        "type": "VectorStoreProvider.get_postgres_vector_store"
      }
    ],
    "description": "Service for indexing codebase using LlamaIndex"
  },
  "ProjectAnalyzer": {
    "module": "/app/core/services/project_service.py",
    "inherits": [],
    "uses": [
      "Dict[str, Any]",
      "FileSystemVisitor",
      "resolve"
    ],
    "methods": [
      "__init__",
      "analyze",
      "_enrich_node_with_ast"
    ],
    "attributes": [
      {
        "name": "fs_visitor",
        "type": "FileSystemVisitor"
      },
      {
        "name": "root_path",
        "type": "Unknown.resolve"
      }
    ],
    "description": "Orchestrates the analysis.\n1. Uses FileSystemVisitor to walk the tree and filter noise.\n2. Uses ArchitectureVisitor to parse Python logic found in that tree."
  },
  "ClassRelationship": {
    "module": "/app/core/services/relationship_service.py",
    "inherits": [],
    "uses": [
      "List[Dict]",
      "List[str]",
      "Optional[str]",
      "Set[str]"
    ],
    "methods": [],
    "attributes": [
      {
        "name": "attributes",
        "type": "List[Dict]"
      },
      {
        "name": "description",
        "type": "Optional[str]"
      },
      {
        "name": "inherits",
        "type": "Set[str]"
      },
      {
        "name": "methods",
        "type": "List[str]"
      },
      {
        "name": "module",
        "type": "str"
      }
    ],
    "description": "Represents relationships for a single class"
  },
  "RelationshipExtractor": {
    "module": "/app/core/services/relationship_service.py",
    "inherits": [],
    "uses": [
      "ClassRelationship",
      "Dict[str, Dict]",
      "List[str]",
      "Optional[str]",
      "Set[str]"
    ],
    "methods": [
      "__init__",
      "extract_from_json",
      "_collect_class_names",
      "_extract_relationships",
      "_process_class"
    ],
    "attributes": [
      {
        "name": "PRIMITIVES",
        "type": "Unknown"
      },
      {
        "name": "all_class_names",
        "type": "Set[str]"
      },
      {
        "name": "classes",
        "type": "Dict[str, ClassRelationship]"
      }
    ],
    "description": "Extracts relationships from your project JSON.\nWorks directly with the output of ProjectAnalyzer."
  },
  "EnhancedProjectAnalyzer": {
    "module": "/app/core/services/relationship_service.py",
    "inherits": [],
    "uses": [
      "ProjectAnalyzer",
      "RelationshipExtractor"
    ],
    "methods": [
      "__init__",
      "analyze",
      "save_outputs",
      "_generate_summary"
    ],
    "attributes": [
      {
        "name": "project_analyzer",
        "type": "ProjectAnalyzer"
      },
      {
        "name": "relationship_extractor",
        "type": "RelationshipExtractor"
      }
    ],
    "description": "Wrapper that adds relationship analysis to your ProjectAnalyzer.\n\nUsage:\n    analyzer = EnhancedProjectAnalyzer(\"/app\")\n    result = analyzer.analyze()\n    \n    # result now contains:\n    # - 'tree': Original project tree with AST analysis\n    # - 'relationships': Class relationships\n    # - 'mermaid': Mermaid diagram"
  },
  "ChatSessionAPITests": {
    "module": "/app/core/tests/test_chatbot.py",
    "inherits": [
      "TestCase"
    ],
    "uses": [
      "APIClient"
    ],
    "methods": [
      "setUp",
      "test_create_session",
      "test_list_sessions"
    ],
    "attributes": [
      {
        "name": "client",
        "type": "APIClient"
      }
    ],
    "description": "Tests for chat session endpoints"
  },
  "ChatAPITests": {
    "module": "/app/core/tests/test_chatbot.py",
    "inherits": [
      "TestCase"
    ],
    "uses": [
      "APIClient"
    ],
    "methods": [
      "setUp",
      "test_chat_creates_session_if_not_provided",
      "test_chat_with_existing_session"
    ],
    "attributes": [
      {
        "name": "client",
        "type": "APIClient"
      }
    ],
    "description": "Tests for chat message endpoints"
  },
  "IndexingAPITests": {
    "module": "/app/core/tests/test_chatbot.py",
    "inherits": [
      "TestCase"
    ],
    "uses": [
      "APIClient"
    ],
    "methods": [
      "setUp",
      "test_start_indexing",
      "test_async_indexing",
      "test_get_indexing_jobs"
    ],
    "attributes": [
      {
        "name": "client",
        "type": "APIClient"
      }
    ],
    "description": "Tests for indexing endpoints"
  },
  "SearchAPITests": {
    "module": "/app/core/tests/test_chatbot.py",
    "inherits": [
      "TestCase"
    ],
    "uses": [
      "APIClient"
    ],
    "methods": [
      "setUp",
      "test_search_documents",
      "test_search_requires_query"
    ],
    "attributes": [
      {
        "name": "client",
        "type": "APIClient"
      }
    ],
    "description": "Tests for search endpoints"
  },
  "LLMFactoryTests": {
    "module": "/app/core/tests/test_chatbot.py",
    "inherits": [
      "TestCase"
    ],
    "uses": [],
    "methods": [
      "test_langchain_llm_creation",
      "test_embeddings_creation",
      "test_missing_api_key_raises_error"
    ],
    "attributes": [],
    "description": "Tests for LLM Factory"
  },
  "ChatbotServiceTests": {
    "module": "/app/core/tests/test_chatbot.py",
    "inherits": [
      "TestCase"
    ],
    "uses": [],
    "methods": [
      "test_create_session",
      "test_list_sessions"
    ],
    "attributes": [],
    "description": "Tests for ChatbotService"
  },
  "ModelTests": {
    "module": "/app/core/tests/test_chatbot.py",
    "inherits": [
      "TestCase"
    ],
    "uses": [],
    "methods": [
      "test_chat_session_creation",
      "test_chat_message_creation",
      "test_indexing_job_creation"
    ],
    "attributes": [],
    "description": "Tests for Django models"
  },
  "ChatSessionAdmin": {
    "module": "/app/core/admin.py",
    "inherits": [
      "ModelAdmin"
    ],
    "uses": [],
    "methods": [],
    "attributes": [
      {
        "name": "list_display",
        "type": "Unknown"
      },
      {
        "name": "list_filter",
        "type": "Unknown"
      },
      {
        "name": "ordering",
        "type": "Unknown"
      },
      {
        "name": "readonly_fields",
        "type": "Unknown"
      },
      {
        "name": "search_fields",
        "type": "Unknown"
      }
    ],
    "description": null
  },
  "ChatMessageAdmin": {
    "module": "/app/core/admin.py",
    "inherits": [
      "ModelAdmin"
    ],
    "uses": [],
    "methods": [
      "message_preview"
    ],
    "attributes": [
      {
        "name": "list_display",
        "type": "Unknown"
      },
      {
        "name": "list_filter",
        "type": "Unknown"
      },
      {
        "name": "ordering",
        "type": "Unknown"
      },
      {
        "name": "readonly_fields",
        "type": "Unknown"
      },
      {
        "name": "search_fields",
        "type": "Unknown"
      }
    ],
    "description": null
  },
  "DocumentAdmin": {
    "module": "/app/core/admin.py",
    "inherits": [
      "ModelAdmin"
    ],
    "uses": [],
    "methods": [
      "content_preview"
    ],
    "attributes": [
      {
        "name": "list_display",
        "type": "Unknown"
      },
      {
        "name": "list_filter",
        "type": "Unknown"
      },
      {
        "name": "ordering",
        "type": "Unknown"
      },
      {
        "name": "readonly_fields",
        "type": "Unknown"
      },
      {
        "name": "search_fields",
        "type": "Unknown"
      }
    ],
    "description": null
  },
  "IndexingJobAdmin": {
    "module": "/app/core/admin.py",
    "inherits": [
      "ModelAdmin"
    ],
    "uses": [],
    "methods": [
      "progress"
    ],
    "attributes": [
      {
        "name": "list_display",
        "type": "Unknown"
      },
      {
        "name": "list_filter",
        "type": "Unknown"
      },
      {
        "name": "ordering",
        "type": "Unknown"
      },
      {
        "name": "readonly_fields",
        "type": "Unknown"
      },
      {
        "name": "search_fields",
        "type": "Unknown"
      }
    ],
    "description": null
  },
  "CoreConfig": {
    "module": "/app/core/apps.py",
    "inherits": [
      "AppConfig"
    ],
    "uses": [],
    "methods": [],
    "attributes": [
      {
        "name": "default_auto_field",
        "type": "Constant"
      },
      {
        "name": "name",
        "type": "Constant"
      }
    ],
    "description": null
  },
  "Document": {
    "module": "/app/core/models.py",
    "inherits": [
      "Model"
    ],
    "uses": [
      "CharField",
      "DateTimeField",
      "IntegerField",
      "JSONField",
      "TextField",
      "UUIDField",
      "VectorField"
    ],
    "methods": [
      "__str__"
    ],
    "attributes": [
      {
        "name": "chunk_index",
        "type": "models.IntegerField"
      },
      {
        "name": "content",
        "type": "models.TextField"
      },
      {
        "name": "created_at",
        "type": "models.DateTimeField"
      },
      {
        "name": "embedding",
        "type": "VectorField"
      },
      {
        "name": "file_path",
        "type": "models.CharField"
      }
    ],
    "description": "Store indexed documents from the codebase"
  },
  "ChatSession": {
    "module": "/app/core/models.py",
    "inherits": [
      "Model"
    ],
    "uses": [
      "CharField",
      "DateTimeField",
      "JSONField",
      "UUIDField"
    ],
    "methods": [
      "__str__"
    ],
    "attributes": [
      {
        "name": "created_at",
        "type": "models.DateTimeField"
      },
      {
        "name": "id",
        "type": "models.UUIDField"
      },
      {
        "name": "metadata",
        "type": "models.JSONField"
      },
      {
        "name": "title",
        "type": "models.CharField"
      },
      {
        "name": "updated_at",
        "type": "models.DateTimeField"
      }
    ],
    "description": "Store chat sessions"
  },
  "ChatMessage": {
    "module": "/app/core/models.py",
    "inherits": [
      "Model"
    ],
    "uses": [
      "CharField",
      "DateTimeField",
      "ForeignKey",
      "JSONField",
      "TextField",
      "UUIDField"
    ],
    "methods": [
      "__str__"
    ],
    "attributes": [
      {
        "name": "ROLE_CHOICES",
        "type": "list"
      },
      {
        "name": "content",
        "type": "models.TextField"
      },
      {
        "name": "created_at",
        "type": "models.DateTimeField"
      },
      {
        "name": "id",
        "type": "models.UUIDField"
      },
      {
        "name": "metadata",
        "type": "models.JSONField"
      }
    ],
    "description": "Store individual chat messages"
  },
  "IndexingJob": {
    "module": "/app/core/models.py",
    "inherits": [
      "Model"
    ],
    "uses": [
      "CharField",
      "DateTimeField",
      "IntegerField",
      "JSONField",
      "TextField",
      "UUIDField"
    ],
    "methods": [
      "__str__"
    ],
    "attributes": [
      {
        "name": "STATUS_CHOICES",
        "type": "list"
      },
      {
        "name": "completed_at",
        "type": "models.DateTimeField"
      },
      {
        "name": "created_at",
        "type": "models.DateTimeField"
      },
      {
        "name": "error_message",
        "type": "models.TextField"
      },
      {
        "name": "id",
        "type": "models.UUIDField"
      }
    ],
    "description": "Track indexing jobs"
  },
  "ChatMessageSerializer": {
    "module": "/app/core/serializers.py",
    "inherits": [
      "ModelSerializer"
    ],
    "uses": [],
    "methods": [],
    "attributes": [],
    "description": "Serializer for chat messages"
  },
  "ChatSessionSerializer": {
    "module": "/app/core/serializers.py",
    "inherits": [
      "ModelSerializer"
    ],
    "uses": [
      "IntegerField",
      "SerializerMethodField"
    ],
    "methods": [
      "get_last_message"
    ],
    "attributes": [
      {
        "name": "last_message",
        "type": "serializers.SerializerMethodField"
      },
      {
        "name": "message_count",
        "type": "serializers.IntegerField"
      }
    ],
    "description": "Serializer for chat sessions"
  },
  "ChatSessionDetailSerializer": {
    "module": "/app/core/serializers.py",
    "inherits": [
      "ModelSerializer"
    ],
    "uses": [
      "ChatMessageSerializer"
    ],
    "methods": [],
    "attributes": [
      {
        "name": "messages",
        "type": "ChatMessageSerializer"
      }
    ],
    "description": "Detailed serializer for chat sessions with messages"
  },
  "ChatRequestSerializer": {
    "module": "/app/core/serializers.py",
    "inherits": [
      "Serializer"
    ],
    "uses": [
      "CharField",
      "UUIDField"
    ],
    "methods": [],
    "attributes": [
      {
        "name": "message",
        "type": "serializers.CharField"
      },
      {
        "name": "session_id",
        "type": "serializers.UUIDField"
      }
    ],
    "description": "Serializer for chat requests"
  },
  "ChatResponseSerializer": {
    "module": "/app/core/serializers.py",
    "inherits": [
      "Serializer"
    ],
    "uses": [
      "CharField",
      "ListField",
      "UUIDField"
    ],
    "methods": [],
    "attributes": [
      {
        "name": "message",
        "type": "serializers.CharField"
      },
      {
        "name": "message_id",
        "type": "serializers.UUIDField"
      },
      {
        "name": "session_id",
        "type": "serializers.UUIDField"
      },
      {
        "name": "sources",
        "type": "serializers.ListField"
      }
    ],
    "description": "Serializer for chat responses"
  },
  "IndexingJobSerializer": {
    "module": "/app/core/serializers.py",
    "inherits": [
      "ModelSerializer"
    ],
    "uses": [
      "SerializerMethodField"
    ],
    "methods": [
      "get_progress_percentage"
    ],
    "attributes": [
      {
        "name": "progress_percentage",
        "type": "serializers.SerializerMethodField"
      }
    ],
    "description": "Serializer for indexing jobs"
  },
  "IndexingRequestSerializer": {
    "module": "/app/core/serializers.py",
    "inherits": [
      "Serializer"
    ],
    "uses": [
      "BooleanField",
      "CharField"
    ],
    "methods": [],
    "attributes": [
      {
        "name": "root_path",
        "type": "serializers.CharField"
      },
      {
        "name": "use_postgres",
        "type": "serializers.BooleanField"
      }
    ],
    "description": "Serializer for indexing requests"
  },
  "SearchRequestSerializer": {
    "module": "/app/core/serializers.py",
    "inherits": [
      "Serializer"
    ],
    "uses": [
      "CharField",
      "IntegerField"
    ],
    "methods": [],
    "attributes": [
      {
        "name": "query",
        "type": "serializers.CharField"
      },
      {
        "name": "top_k",
        "type": "serializers.IntegerField"
      }
    ],
    "description": "Serializer for document search requests"
  },
  "SearchResultSerializer": {
    "module": "/app/core/serializers.py",
    "inherits": [
      "Serializer"
    ],
    "uses": [
      "CharField",
      "DictField",
      "FloatField"
    ],
    "methods": [],
    "attributes": [
      {
        "name": "metadata",
        "type": "serializers.DictField"
      },
      {
        "name": "score",
        "type": "serializers.FloatField"
      },
      {
        "name": "text",
        "type": "serializers.CharField"
      }
    ],
    "description": "Serializer for search results"
  },
  "ChatSessionViewSet": {
    "module": "/app/core/views.py",
    "inherits": [
      "ModelViewSet"
    ],
    "uses": [
      "all"
    ],
    "methods": [
      "get_serializer_class",
      "list",
      "create",
      "clear_history"
    ],
    "attributes": [
      {
        "name": "queryset",
        "type": "ChatSession.objects.all"
      },
      {
        "name": "serializer_class",
        "type": "Unknown"
      }
    ],
    "description": "ViewSet for managing chat sessions"
  },
  "ChatView": {
    "module": "/app/core/views.py",
    "inherits": [
      "APIView"
    ],
    "uses": [],
    "methods": [
      "post"
    ],
    "attributes": [],
    "description": "View for handling chat messages"
  },
  "IndexingView": {
    "module": "/app/core/views.py",
    "inherits": [
      "APIView"
    ],
    "uses": [],
    "methods": [
      "post",
      "get"
    ],
    "attributes": [],
    "description": "View for handling codebase indexing"
  },
  "SearchView": {
    "module": "/app/core/views.py",
    "inherits": [
      "APIView"
    ],
    "uses": [],
    "methods": [
      "post"
    ],
    "attributes": [],
    "description": "View for searching indexed documents"
  }
}